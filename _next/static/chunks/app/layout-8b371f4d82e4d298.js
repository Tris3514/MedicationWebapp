(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3479:(e,r,t)=>{"use strict";t.d(r,{D:()=>o,ThemeProvider:()=>l});var s=t(5155),a=t(2115);let i=(0,a.createContext)(void 0);function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}function l(e){let{children:r,defaultTheme:t="dark"}=e,[o,l]=(0,a.useState)(t);return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e&&("dark"===e||"light"===e)&&l(e)},[]),(0,a.useEffect)(()=>{let e=window.document.documentElement;e.classList.remove("light","dark"),e.classList.add(o),localStorage.setItem("theme",o)},[o]),(0,s.jsx)(i.Provider,{value:{theme:o,setTheme:l,toggleTheme:()=>{l("dark"===o?"light":"dark")}},children:r})}},3673:()=>{},5380:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,AuthProvider:()=>o});var s=t(5155),a=t(2115);let i=(0,a.createContext)(void 0);function o(e){let{children:r}=e,[t,o]=(0,a.useState)({user:null,isAuthenticated:!1,isLoading:!0,error:null});(0,a.useEffect)(()=>{try{let e=localStorage.getItem("user_data");if(e){let r=JSON.parse(e);o({user:r,isAuthenticated:!0,isLoading:!1,error:null})}else o({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("user_data"),o({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to load user data"})}},[]);let l=async e=>{o(e=>({...e,isLoading:!0,error:null}));try{let r=JSON.parse(localStorage.getItem("users")||"[]"),t=r.find(r=>r.email===e.email&&r.password===e.password);if(!t)return o(e=>({...e,isLoading:!1,error:"Invalid email or password"})),{success:!1,error:"Invalid email or password"};{let e={...t,lastLoginAt:new Date().toISOString()},s=r.map(r=>r.email===t.email?e:r);return localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("user_data",JSON.stringify(e)),o({user:e,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0,user:e}}}catch(r){let e="Login failed. Please try again.";return o(r=>({...r,isLoading:!1,error:e})),{success:!1,error:e}}},n=async e=>{o(e=>({...e,isLoading:!0,error:null}));try{let r=JSON.parse(localStorage.getItem("users")||"[]");if(r.find(r=>r.email===e.email))return o(e=>({...e,isLoading:!1,error:"User with this email already exists"})),{success:!1,error:"User with this email already exists"};let t={id:Date.now().toString(),name:e.name,email:e.email,password:e.password,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()},s=[...r,t];return localStorage.setItem("users",JSON.stringify(s)),localStorage.setItem("user_data",JSON.stringify(t)),o({user:t,isAuthenticated:!0,isLoading:!1,error:null}),{success:!0,user:t}}catch(r){let e="Sign up failed. Please try again.";return o(r=>({...r,isLoading:!1,error:e})),{success:!1,error:e}}},u={...t,login:l,signUp:n,logout:()=>{localStorage.removeItem("user_data"),o({user:null,isAuthenticated:!1,isLoading:!1,error:null})},clearError:()=>{o(e=>({...e,error:null}))}};return(0,s.jsx)(i.Provider,{value:u,children:r})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6064:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,3673,23)),Promise.resolve().then(t.bind(t,3479)),Promise.resolve().then(t.bind(t,5380))}},e=>{e.O(0,[978,441,255,358],()=>e(e.s=6064)),_N_E=e.O()}]);